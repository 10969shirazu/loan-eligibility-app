{% extends "base.html" %}

{% block content %}

<h1>Formulaire de demande de prêt</h1>

<form action="{{ url_for('predict') }}" method="POST">
    <p>
        <label for="loan_amnt">Montant du prêt :</label>
        <input type="number" name="loan_amnt" id="loan_amnt" required>
    </p>
    <p>
        <label for="term">Durée (mois) :</label>
        <select name="term" id="term">
            <option value="36">36 mois</option>
            <option value="60">60 mois</option>
        </select>
    </p>
    <p>
        <label for="int_rate">Taux d'intérêt (%) :</label>
        <input type="number" step="0.01" name="int_rate" id="int_rate" required>
    </p>
    <p>
        <label for="installment">Mensualité :</label>
        <input type="number" step="0.01" name="installment" id="installment" required>
    </p>
    <p>
        <label for="grade">Note de crédit (A=1, B=2, ..., G=7) :</label>
        <input type="number" name="grade" id="grade" min="1" max="7" required>
    </p>
    <p>
        <label for="sub_grade">Sous-note (ex: A1=1, A2=2, ..., G5=35) :</label>
        <input type="number" name="sub_grade" id="sub_grade" min="1" max="35" required>
    </p>
    <p>
        <label for="emp_length">Ancienneté (en années) :</label>
        <input type="number" step="1" name="emp_length" id="emp_length" required>
    </p>
    <p>
        <label for="annual_inc">Revenu annuel :</label>
        <input type="number" name="annual_inc" id="annual_inc" required>
    </p>
    <p>
        <label for="dti">Ratio d'endettement (DTI) :</label>
        <input type="number" step="0.01" name="dti" id="dti" required>
    </p>
    <p>
        <label for="delinq_2yrs">Délais de paiement (2 ans) :</label>
        <input type="number" name="delinq_2yrs" id="delinq_2yrs" required>
    </p>
    <p>
        <label for="inq_last_6mths">Requêtes de crédit (6 mois) :</label>
        <input type="number" name="inq_last_6mths" id="inq_last_6mths" required>
    </p>
    <p>
        <label for="open_acc">Nombre de comptes ouverts :</label>
        <input type="number" name="open_acc" id="open_acc" required>
    </p>
    <p>
        <label for="pub_rec">Incidents de crédit public :</label>
        <input type="number" name="pub_rec" id="pub_rec" required>
    </p>
    <p>
        <label for="revol_bal">Solde des crédits renouvelables :</label>
        <input type="number" name="revol_bal" id="revol_bal" required>
    </p>
    <p>
        <label for="revol_util">Utilisation des crédits renouvelables (%) :</label>
        <input type="number" step="0.01" name="revol_util" id="revol_util" required>
    </p>
    <p>
        <label for="total_acc">Nombre total de comptes :</label>
        <input type="number" name="total_acc" id="total_acc" required>
    </p>
    <p>
        <label for="last_pymnt_amnt">Montant du dernier paiement :</label>
        <input type="number" name="last_pymnt_amnt" id="last_pymnt_amnt" required>
    </p>
    <p>
        <label>Statut de propriété :</label>
        {% for val in ["OWN", "RENT", "MORTGAGE", "NONE", "OTHER"] %}
        <input type="checkbox" name="home_ownership" value="{{ val }}" id="home_{{ val }}">
        <label for="home_{{ val }}">{{ val }}</label>
        {% endfor %}
    </p>
    <p>
        <label>Statut de vérification :</label>
        <input type="checkbox" name="verification_status" value="Source Verified" id="verif_source">
        <label for="verif_source">Source Vérifiée</label>
        <input type="checkbox" name="verification_status" value="Verified" id="verif_verified">
        <label for="verif_verified">Vérifié</label>
    </p>
    <p>
        <label>Objet du prêt :</label>
        {% for val, label in [
            ("credit_card", "Carte de crédit"), ("debt_consolidation", "Consolidation de dettes"),
            ("educational", "Éducation"), ("home_improvement", "Rénovation"),
            ("house", "Maison"), ("major_purchase", "Achat important"),
            ("medical", "Médical"), ("moving", "Déménagement"),
            ("other", "Autre"), ("renewable_energy", "Énergie renouvelable"),
            ("small_business", "Petite entreprise"), ("vacation", "Vacances"),
            ("wedding", "Mariage")
        ] %}
        <input type="checkbox" name="purpose" value="{{ val }}" id="purpose_{{ val }}">
        <label for="purpose_{{ val }}">{{ label }}</label>
        {% endfor %}
    </p>
    <p>
        <input type="submit" value="Envoyer la demande">
    </p>
</form>

{% endblock %}
